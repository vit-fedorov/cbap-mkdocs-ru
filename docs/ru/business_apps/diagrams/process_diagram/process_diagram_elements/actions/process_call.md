---
tags:
  - диаграммы
  - диаграмма процесса
  - элементы диаграммы процесса
  - действия
  - диаграмма бизнес-процесса
  - шаблон процесса
  - процесс
  - бизнес-процесс
  - диаграмма
  - вызов процесса
hide:
  - tags
---

# Вызов процесса

**Вызов процесса** запускает внешний подпроцесс из текущего процесса. Это позволяет, например, выполнять одинаковую последовательность действий в нескольких процессах.

По завершении выполнения подпроцесса токен переходит на следующий элемент диаграммы текущего процесса.

*![Вызов процесса и его меню элемента](process_call.png)*

## Операции в меню элемента «Вызов процесса»

- **Действия**
    - **Свойства** <i class="fa-light fa-gear"></i> — переход к окну [свойств вызова процесса](#свойства-вызова-процесса).
    --8<-- "process_diagram_entry_scenario.md"
    --8<-- "process_diagram_exit_scenario.md"
    --8<-- "process_diagram_delete_element.md"
    --8<-- "process_diagram_subprocess_diagram.md"
--8<-- "process_diagram_quick_create.md"

## Свойства вызова процесса

В  окне свойств **вызова процесса** предусмотрены перечисленные ниже вкладки.

### Основные

Помимо [общих свойств элемента диаграммы процесса][process_diagram_element_common_properties] на этой вкладке можно настроить перечисленные ниже свойства вызова процесса.

#### Базовые настройки

- **Экспертные настройки** — установите этот флажок, чтобы настроить дополнительные свойства вызова процесса. См. [экспертные настройки](#экспертные-настройки).
- **Шаблон процесса** — выберите шаблон подпроцесса. Его экземпляры будут выполняться по заданным **записям для запуска процесса**. Если атрибут с записями не выбран, подпроцесс будет запущен 1 раз и будет создана новая связанная с ним запись. Когда выбран атрибут с записями, для выбора доступны только шаблоны процессов, связанные с соответствующим шаблоном записи.
- **Записи для запуска процесса** — выберите атрибут, который ссылается на записи в шаблоне, связанном с выбранным **шаблоном процесса**. По этим записям будут запускаться экземпляры подпроцесса. Если атрибут с записями не выбран, подпроцесс будет запущен 1 раз и будет создана новая связанная с ним запись. Когда выбран **шаблон процесса**, для выбора доступны только атрибуты связанного с ним шаблона записи.



    !!! Example "Пример"
        **Исходные данные**

        * Шаблон основного процесса «_Управление транспортом_» связан с шаблоном записи «_Рейсы_».
        * Шаблон «_Рейсы_» содержит атрибут «_Затраты_», связанный с шаблоном записи «_Расходы водителей_».
        * Шаблон подпроцесса «_Учёт расходов водителей_» связан с шаблоном записи «_Расходы водителей_».
        * На диаграмму процесса «_Управление транспортом_» вынесен элемент «**Вызов процесса**».
        * В **вызове процесса** выбран шаблон процесса «_Учёт расходов водителей_».
        * В поле «**Записи для запуска процессов**» выбран атрибут «_Затраты_» из шаблона «_Рейсы_», основного процесса.

        **Результирующее поведение**
        
        * В записи «_Рейс 001_» в атрибуте «_Затраты_» хранятся ссылки на 5 записей с затратами водителей во время рейса.
        * Процесс «_Управление транспортом_» связан с записью «_Рейс 001_» и вызывает процесс  «_Учёт расходов водителей_».
        * Процесс «_Учёт расходов водителей_» будет выполнен 5 раз по каждой записи шаблона «_Расходы водителей_» из атрибута «_Затраты_».

- **Версия диаграммы процесса** — выберите версию диаграммы, по которой будет запускаться процесс.
    - **Всегда последнюю** — будет использоваться последняя опубликованная версия диаграммы.
    - **1.0…** — будет использоваться диаграмма указанной версии.
- **Выполнение экземпляров процесса** — выберите режим выполнения экземпляров процесса.
    - **Однократное** — будет запущен только один экземпляр подпроцесса. Этот режим выбирается автоматически, если не заполнено поле «**Записи для запуска процесса**». В этом режиме элемент «**Вызов процесса**» отображается на диаграмме без линий.
    - **Последовательное** — экземпляры подпроцесса будут выполняться последовательно по **записям для запуска процесса**. В этом режиме элемент «**Вызов процесса**» отображается на диаграмме с тремя горизонтальными линиями.
    - **Параллельное** — экземпляры подпроцесса будут выполняться параллельно по **записям для запуска процесса**. В этом режиме элемент «**Вызов процесса**» отображается на диаграмме с тремя вертикальными линиями.
- **Условие запуска процесса** — введите формулу, возвращающую `true` при условиях, когда требуется запускать подпроцесс.

*![Основные свойства вызова процесса — обычные настройки](process_call_general_properties.png)*

#### Экспертные настройки

- **Выражение для выборки объектов** — введите формулу, возвращающую список объектов, по которым будет выполняться итерация запуска экземпляров подпроцесса.
- **Шаблон для выборки объектов** — выберите шаблон записи, в контексте которого требуется вычислять **выражение для выборки объектов**. Связанные с ним шаблоны процессов будут отображаться в списке «**Шаблон процесса**».
- **Режим выполнения**
    - **Параллельный** — экземпляры подпроцесса будут выполняться одновременно и параллельно.
    - **Последовательный** — новые экземпляры подпроцесса будут запускаться после завершения предыдущего экземпляра.
- **Выполнение экземпляров процесса** — это поле заполняется автоматически:
    - **Однократное** — будет запущен один экземпляр процесса;
    - **Последовательный** — экземпляры процесса будут выполняться последовательно;
    - **Параллельный** — экземпляры процесса будут выполняться параллельно.
- **Связь шаблона записи с процессом** — выберите тип подпроцесса.
    - **Непосредственная** — можно выбрать **шаблон процесса**, непосредственно связанный с **шаблоном для выборки объектов**;
    - **Через атрибут** — можно выбрать **шаблон процесса**, связанный с **шаблоном для выборки объектов** посредством атрибута типа «**Запись**».
- **Шаблон процесса** — выберите шаблон, экземпляры которого будут выполняться по записям, на которые указывает **атрибут связи**. Набор шаблонов в этом раскрывающемся списке зависит от **шаблона для выборки объектов** и **связи с процессом**.
- **Версия диаграммы процесса** — выберите версию диаграммы, по которой будет запускаться подпроцесс:
    - **Всегда последнюю** — будет использоваться последняя опубликованная версия диаграммы;
    - **1.0…** — будет использоваться диаграмма указанной версии.
- **Записи, связанные с процессом** — укажите способ обработки записей в шаблоне, связанном с подпроцессом, на которые указывает **атрибут связи**.
    - **Создавать новые** — для каждого экземпляра подпроцесса будет создаваться новая запись;
    - **Использовать существующие** — экземпляры подпроцесса будут выполняться по имеющимся записям. Если **атрибут связи** не указан, будет создана новая запись.
- **Атрибут связи** — выберите атрибут типа «**Запись**» шаблона записи, связанного с текущим процессом (для выбора в этом списке доступны атрибуты, связанные с **шаблоном процесса**).
- **Действие с записями** — выберите действие с записями, на которые указывает **атрибут связи**, выполняемое при запуске подпроцесса.
    - **Не задано** — не выполнять действие.
    - **Добавить** — добавление записи.
    - **Удалить** — удаление записи.

*![Основные свойства вызова процесса — экспертные настройки](process_call_general_properties_expert_settings.png)*

### Данные на входе

На этой вкладке можно настроить передачу данных из текущего процесса в вызываемый. Задайте значения атрибутов в записях, по которым будет запускаться вызываемый процесс. Значения будут присвоены перед запуском каждого экземпляра подпроцесса.

Чтобы добавить строку в таблицу сопоставления данных, нажмите кнопку «**Добавить**».

- **Атрибут шаблона записи подпроцесса** — укажите в этом столбце атрибут шаблона записи, связанного с подпроцессом.
- **Значение** — задайте в этом столбце значения **атрибутов шаблона процесса**.
    - **Формула** — введите формулу, возвращающую необходимое значение.
    - **Атрибут** — укажите атрибут текущего шаблона (или связанного с ним шаблона), в котором хранится необходимое значение.
    - **Значение** — задайте значение в формате, соответствующем типы данных **атрибута шаблона процесса**.

*![Настройка передачи данных из текущего процесса в вызываемый](process_call_input_data.png)*

### Данные на выходе

На этой вкладке можно настроить передачу данных из подпроцесса в текущий. Задайте значения атрибутов в записи, связанной с экземпляром текущего процесса. Значения будут присвоены в записи, связанной с экземпляром текущего процесса, после выполнения экземпляров подпроцесса.

Чтобы добавить строку в таблицу сопоставления данных, нажмите кнопку «**Добавить**».

- **Атрибут записи текущего процесса** — укажите в этом столбце атрибут шаблона записи, связанного с текущим процессом.
- **Атрибут шаблона записи подпроцесса** — укажите в этом столбце атрибут шаблона записи, связанного с подпроцессом. Значение этого атрибута будет присвоено **атрибуту записи текущего процесса**.

*![Настройка передачи данных в текущий процесс из вызываемого](process_call_output_data.png)*

--8<-- "related_topics_heading.md"

**[Встроенный подпроцесс](embedded_subprocess.md)**

**[Общие свойства элементов диаграммы процесса][process_diagram_element_common_properties]**

**[Элементы диаграммы процесса][process_diagram_elements]**

**[Редактирование диаграммы процесса][process_diagram_designer]**
