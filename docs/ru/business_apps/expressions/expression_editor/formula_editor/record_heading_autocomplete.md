---
title: Ввод заголовка записи связанного шаблона
kbId: 2471
tags:
  - выражения
  - формулы
  - from where select
  - функции
  - шаблоны
  - атрибуты
  - вычисляемые атрибуты
  - проверка значения
  - предиктивный ввод
  - подсказки
  - редактор выражений
  - операторы
  - оператор ==
  - оператор ->
  - прямая стрелка
  - атрибут-заголовок записей шаблона
  - сценарии
hide:
  - tags
---

# Ввод заголовка записи связанного шаблона {: #formula_editor_record_heading_autocomplete}

Если в шаблоне указан [атрибут-заголовок записей][attribute_displayed], то при нажатии клавиш ++ctrl+space++ в позиции после системного имени [атрибута типа «**Запись**»][attribute_record], связанного с этим шаблоном, отобразится список записей связанного шаблона с соответствующими заголовками.

!!! Example "Пример: формула для подсчёта количества выполняющихся заявок"

    **Конфигурация приложения**

    * Шаблон записи _«Заявка на автомобиль»_
        - **Системное имя**: _Zayavkanaavtomobil_.
        - Атрибут _«Статус»_
            - **Системное имя**: _Status_.
            - **Тип данных**: **Запись**.
            - **Связанный шаблон**: _Статус заявки_.

    * Шаблон записи _«Статус заявки»_
        - **Системное имя**: _Statuszayavki_.
        - **Тип данных**: **Запись**.
        - Атрибут _«Название»_
            - **Системное имя**: _Nazvanie_.
            - **Тип данных**: **Текст**.
            -  **Использовать как заголовок записей**: флажок установлен.
         - Записи: `Выполняется`, `Отклонена`, `Завершена`, `На рассмотрении`, `Создана`.

    **Составление формулы**

    1. Введите функцию `#!mysql COUNT()`, которая возвращает количество элементов в списке, переданном в качестве аргумента. См. также раздел «**[Ввод имени функции и просмотр подсказки по функции][formula_editor_function_autocompete]**».
    2. В позиции аргумента функции нажмите клавиши ++ctrl+space++ и выберите шаблон _Zayavkanaavtomobil_.
    3. В формулу будет вставлена заготовка конструкции from-where-select для шаблона _Zayavkanaavtomobil_.
    4. Строку `Ваше условие замените` в заготовке замените на `b->Status->Nazvanie ==`, чтобы привести формулу к виду:
       ```mysql
       COUNT(from b in db->Zayavkanaavtomobil
       where b->Status->Nazvanie ==
       select b->id)
       ```
    5. Нажмите клавиши ++ctrl+space++ в позиции после оператора `==`.
    6. Отобразится список записей шаблона _«Статус заявки»_.
        *![Список записей шаблона](formula_editor_record_heading_autocomplete.png)*
    7. Дважды нажмите пункт _«Выполняется»_, чтобы вставить в формулу литерал `"Выполняется"`.

    ```mysql title="Пример: формула, возвращающая количество записей в шаблоне Zayavkanaavtomobil, связанных с записью «Выполняется» в шаблоне Status"
    COUNT(from b in db->Zayavkanaavtomobil
    where b->Status->Nazvanie == "Выполняется"
    select b->id)
    ```

<div class="relatedTopics">

--8<-- "related_topics_heading.md"

- *[Редактор выражений][expression_editor]*

</div>

**[Примеры использования формул. База знаний Comindware]({{ kbCategoryURLPrefix }}409){:target="_blank"}**

**[Ввод имени функции и просмотр подсказки по функции][formula_editor_function_autocompete]**

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
