<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4679">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#создание-подключения">
<span class="md-ellipsis">
      Создание подключения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#настройка-шаблонов-записи-и-формы">
<span class="md-ellipsis">
      Настройка шаблонов записи и формы
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#связанные-статьи">
<span class="md-ellipsis">
      Связанные статьи
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="введение">Введение</h2>
<p>Подключение к картографической службе используется для отображения карт на формах и добавления на карты географических меток.</p>
<p>Для отображения карт на форме требуется настроить <strong>системное подключение</strong> типа «<strong>Карты</strong>», шаблон записи, на форме которого будет отображаться карта, и шаблон записи, в котором будут храниться данные меток на карте. Кроме того, на форме с картой можно настроить таблицу для просмотра и ввода данных меток.</p>
<p>Здесь представлены инструкции по настройке подключения к картографической службе Яндекс Карты.</p>
<p>Сведения об использовании карт см. в статье <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4814">Карты. Использование</a>»</em>.</p>
<h2 class="pageBreakBefore" id="создание-подключения">Создание подключения</h2>
<ol class="colored_numbers_list">
<li>Откройте страницу <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4661">«<strong>Администрирование</strong>» — «<strong>Подключения</strong>»</a>.</li>
<li>Создайте <strong>системное подключение</strong> типа «<strong>Карты</strong>» или откройте имеющееся подключение, дважды нажав его в списке.</li>
<li>
<p>Настройте свойства подключения к картографической службе:</p>
<ul>
<li><strong>Отключить</strong> — установите этот флажок, если требуется деактивировать данное подключение;</li>
<li><strong>Название</strong> — введите наглядное наименование подключения;</li>
<li><strong>Использовать по умолчанию</strong> — установите этот флажок, чтобы это подключение использовалось как основное, если имеется несколько подключений типа «<strong>Карты</strong>».</li>
<li>
<p><strong>Ключ API</strong> — введите ключ доступа к картографической службе «<strong>JavaScript API и HTTP Геокодер</strong>», полученный в <a class="mkdocs_imported_link" href="https://developer.tech.yandex.ru/services">кабинете разработчика Яндекс</a>.</p>
<div class="notice notice-warning">
<p class="admonition-title">Внимание!</p>
<p>Для использования Яндекс Карт необходимо выбрать ключ именно к службе «<strong>JavaScript API и HTTP Геокодер</strong>», не следует выбирать ключ к службе «<strong>Static API Яндекс.Карт</strong>».</p>
</div>
</li>
</ul>
</li>
<li>
<p>Сохраните подключение.</p>
</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Свойства подключения к картографической службе" src="/platform/v5.0/administration/connections_communication_routes/system_connections/img/maps_connection_properties.png"/><figcaption class="caption">Свойства подключения к картографической службе</figcaption></p>
</figure>
<h2 class="pageBreakBefore" id="настройка-шаблонов-записи-и-формы">Настройка шаблонов записи и формы</h2>
<ol class="colored_numbers_list">
<li>
<p>Создайте шаблон записи <em>«Объекты»</em> для хранения картографических данных со следующими атрибутами:</p>
<ul>
<li>атрибуты типа «<strong>Текст</strong>»:<ul>
<li><em>Страна</em></li>
<li><em>Регион</em></li>
<li><em>Населённый пункт</em></li>
<li><em>Улица</em></li>
<li><em>Дом, строение</em></li>
<li><em>Индекс</em></li>
</ul>
</li>
<li>атрибуты типа «<strong>Число</strong>»:<ul>
<li><em>Широта</em></li>
<li><em>Долгота</em></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Создайте шаблон записи <em>«Карты»</em> с атрибутом <em>«Объекты на карте»</em>:</p>
<ul>
<li><strong>Тип данных: запись</strong></li>
<li><strong>Связанный шаблон:</strong> <em>Объекты</em></li>
<li><strong>Взаимная связь с атрибутом: с новым</strong></li>
<li><strong>Атрибут:</strong> <em>Карта</em></li>
<li><strong>Хранить несколько значений:</strong> флажок установлен</li>
</ul>
</li>
<li>
<p>Поместите на форму атрибут <em>«Объекты на карте»</em> и выберите для него <strong>представление</strong> «<strong>Карта</strong>».</p>
</li>
<li>Установите <strong>высоту</strong> карты от 200 до 480 пикселей. Высота по умолчанию: 240 пикселей.</li>
<li>Сопоставьте атрибуты адреса и атрибуты координат с атрибутами шаблона <em>«Объекты»</em>.</li>
<li>Поместите атрибут <em>«Объекты на карте»</em> на форму ещё раз и выберите <strong>представление</strong> «<strong>Таблица</strong>».</li>
<li>Добавьте в таблицу <em>«Объекты на карте»</em> атрибуты шаблона <em>«Объекты»</em>.</li>
<li>В область кнопок таблицы <em>«Объекты на карте»</em> поместите кнопки «<strong>Создать</strong>» и «<strong>Удалить</strong>».</li>
<li>Сохраните форму.</li>
<li>Протестируйте работу карты на форме: добавьте, переместите, переименуйте и удалите метки. См. <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4814"><em>«Карты. Использование»</em></a>.</li>
</ol>
<div class="relatedTopics">
<h2 id="связанные-статьи">Связанные статьи</h2>
<ul>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4814">Карты. Использование</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4785#form_dynamic_elements_map">Динамические элементы формы. Настройка карты</a></em></li>
</ul>
</div>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>