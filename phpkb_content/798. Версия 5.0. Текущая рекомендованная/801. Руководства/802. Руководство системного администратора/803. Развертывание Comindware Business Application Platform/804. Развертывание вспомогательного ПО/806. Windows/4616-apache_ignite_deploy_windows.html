<h1>Установка и настройка Apache Ignite. Краткое руководство для Windows</h1><div class="mce-toc">
<h2 class="toc-heading">Содержание</h2>
<ul>
<li><a href="#mcetoc_1g79gr4062">Введение</a></li>
<li><a href="#mcetoc_1g79grtsg4">1. Установка Apache Ignite</a></li>
<li><a href="#mcetoc_1g79gvhfp5">2. Запуск Apache Ignite</a></li>
<li><a href="#mcetoc_1g79h4a216">3. Пример файла конфигурации Ignite</a></li>
</ul>
</div>
<div class="notice notice-error">
<p class="admonition-title">Экспериментальная функция</p>
<p>Представленная здесь функция находится на стадии разработки. См. <em>«<a href="https://kb.comindware.ru/article\.php\?id=4579#mcetoc_1hsfq7ksu2">Поддержка экспериментальных функций</a>»</em>.</p>
</div>
<h2 id="mcetoc_1g79gr4062">Введение</h2>
<p>Apache Ignite — это распределенная высокопроизводительная система управления базами данных.</p>
<p>Comindware Platform использует Apache Ignite для хранения данных.</p>
<p>В настоящем документе представлена краткая инструкция по установке Apache Ignite в ОС Windows из ZIP-файла на примере версии 2.16.0.</p>
<p>Полная инструкция по установке и настройке Apache Ignite представлена на следующем сайте: <a href="https://ignite.apache.org/docs/latest/">https://ignite.apache.org/docs/latest/</a></p>
<p> </p>
<h2 id="mcetoc_1g79grtsg4">1. Установка Apache Ignite</h2>
<p><strong>1.1.</strong> Скачайте ZIP файл <code>apache-ignite-2.16.0-bin.zip</code> по ссылке: <a href="https://ignite.apache.org/download.cgi#binaries">https://ignite.apache.org/download.cgi#binaries</a></p>
<p><strong>1.2.</strong> Распакуйте ZIP-файл в папку, например: <code>C:\apache-ignite-2.16.0-bin</code></p>
<p><strong>1.3.</strong> Установите переменную среды Windows: <code>set IGNITE_HOME=C:\apache-ignite-2.16.0-bin</code></p>
<p><strong>1.4.</strong> Настройте конфигурацию Ignite, изменив файл <code>Apache.Ignite.exe.config</code>: <code>%IGNITE_HOME%\platforms\dotnet\bin\Apache.Ignite.exe.config</code></p>
<p> </p>
<h2 id="mcetoc_1g79gvhfp5">2. Запуск Apache Ignite</h2>
<p><strong>2.1.</strong> Запустите службу Ignite с помощью команды: <code>%IGNITE_HOME%\bin\ignite.bat -v</code></p>
<p>параметр <code>-v</code> включает вывод подробных данных в журнал (по умолчанию в журнал Ignite выводятся только краткие сведения).</p>
<p><strong>2.2.</strong> Если запустить Ignite не удалось, проверьте информацию в журнале, по умолчанию он хранится в папке <code>%IGNITE_HOME%\work\log</code>.</p>
<p> </p>
<h2 id="mcetoc_1g79h4a216">3. Пример файла конфигурации Ignite</h2>
<p>Для стабильной работы Ignite вместе с Comindware Platform важны следующие директивы в данном примере:</p>
<ul>
<li><code>&lt;igniteConfiguration xmlns="http://ignite.apache.org/schema/dotnet/IgniteConfigurationSection" gridName="myGrid1"&gt;</code> — в параметре <code>gridName </code>укажите имя сервера узла Ignite. У узлов кластера должно быть одинаковое имя сервера.</li>
<li><code>&lt;discoverySpi type="TcpDiscoverySpi"&gt;&lt;ipFinder type="TcpDiscoveryStaticIpFinder"&gt;&lt;endpoints&gt; &lt;string&gt;127.0.0.1&lt;/string&gt;&lt;/endpoints&gt;&lt;/ipFinder&gt;&lt;/discoverySpi&gt; </code>— в параметре <code>TcpDiscoveryStaticIpFinder</code> укажите адрес сервера.</li>
<li><code>&lt;dataRegionConfigurations type="DataRegionConfiguration"&gt; &lt;dataRegionConfiguration&gt;&lt;name&gt;Persistent&lt;/name&gt;&lt;persistenceEnabled&gt;true&lt;/persistenceEnabled&gt;</code> — в директиве <code>dataRegionConfiguration</code> укажите <code>&lt;persistenceEnabled&gt;true&lt;/persistenceEnabled&gt;</code>.</li>
<li><code>&lt;workDirectory&gt;C:\apache-ignite-2.16.0-bin\&lt;/workDirectory&gt;&gt;</code> — укажите рабочую папку Ignite.</li>
<li><code>&lt;igniteInstanceName&gt;Comindware_Instance2&lt;/igniteInstanceName&gt;</code> — укажите имя экземпляра Ignite.</li>
</ul>
<div>
<pre><code><span style="color: black;">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></code> <br/><code><span style="color: black;">&lt;configuration&gt;</span></code> <br/><code><span style="color: black;">    &lt;configSections&gt;</span></code> <br/><code><span style="color: black;">        &lt;section name="igniteConfiguration" type="Apache.Ignite.Core.IgniteConfigurationSection, Apache.Ignite.Core" /&gt;</span></code> <br/><code><span style="color: black;">    &lt;/configSections&gt;</span></code> <br/><code><span style="color: black;">    &lt;runtime&gt;</span></code> <br/><code><span style="color: black;">        &lt;gcServer enabled="true"/&gt;</span></code> <br/><code><span style="color: black;">    &lt;/runtime&gt;</span></code> <br/><code><span style="color: black;">    &lt;igniteConfiguration xmlns="http://ignite.apache.org/schema/dotnet/IgniteConfigurationSection" gridName="myGrid1"&gt;</span></code> <br/><code><span style="color: black;">        &lt;localhost&gt;&lt;/localhost&gt;</span></code> <br/><code><span style="color: black;">        &lt;networkTimeout&gt;1000&lt;/networkTimeout&gt;</span></code> <br/><code><span style="color: black;">        &lt;networkSendRetryDelay&gt;1000&lt;/networkSendRetryDelay&gt;</span></code> <br/><code><span style="color: black;">        &lt;jvmOptions&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;-Xms512m&lt;/string&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;-Xmx3g&lt;/string&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;--add-exports=java.base/jdk.internal.misc=ALL-UNNAMED&lt;/string&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;--add-exports=java.base/sun.nio.ch=ALL-UNNAMED&lt;/string&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;--add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED&lt;/string&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;--add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED&lt;/string&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;--add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED&lt;/string&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED&lt;/string&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;-Djava.net.preferIPv4Stack=true&lt;/string&gt;</span></code> <br/><code><span style="color: black;">            &lt;string&gt;--illegal-access=warn&lt;/string&gt;</span></code> <br/><code><span style="color: black;">        &lt;/jvmOptions&gt;</span></code> <br/><code><span style="color: black;">        &lt;discoverySpi type="TcpDiscoverySpi"&gt;</span></code> <br/><code><span style="color: black;">            &lt;ipFinder type="TcpDiscoveryStaticIpFinder"&gt;</span></code> <br/><code><span style="color: black;">                &lt;endpoints&gt;</span></code> <br/><code><span style="color: black;">                    &lt;string&gt;127.0.0.1&lt;/string&gt;</span></code> <br/><code><span style="color: black;">                &lt;/endpoints&gt;</span></code> <br/><code><span style="color: black;">            &lt;/ipFinder&gt;</span></code> <br/><code><span style="color: black;">        &lt;/discoverySpi&gt;</span></code> <br/><code><span style="color: black;">        &lt;atomicConfiguration type="AtomicConfiguration"&gt;</span></code> <br/><code><span style="color: black;">            &lt;atomicSequenceReserveSize&gt;1000&lt;/atomicSequenceReserveSize&gt;</span></code> <br/><code><span style="color: black;">            &lt;cacheMode&gt;Partitioned&lt;/cacheMode&gt;</span></code> <br/><code><span style="color: black;">            &lt;backups&gt;1&lt;/backups&gt;</span></code> <br/><code><span style="color: black;">        &lt;/atomicConfiguration&gt;</span></code> <br/><code><span style="color: black;"><br/>        &lt;dataStorageConfiguration type="DataStorageConfiguration"&gt;</span></code> <br/><code><span style="color: black;">            &lt;walPath&gt;wal\&lt;/walPath&gt;</span></code> <br/><code><span style="color: black;">            &lt;walArchivePath&gt;wal\&lt;/walArchivePath&gt;</span></code> <br/><code><span style="color: black;">            &lt;defaultDataRegionConfiguration type="DataRegionConfiguration"&gt;</span></code> <br/><code><span style="color: black;">                &lt;name&gt;Default_Region&lt;/name&gt;</span></code> <br/><code><span style="color: black;">                &lt;persistenceEnabled&gt;false&lt;/persistenceEnabled&gt;</span></code> <br/><code><span style="color: black;">                &lt;initialSize&gt;10485760&lt;/initialSize&gt;</span></code> <br/><code><span style="color: black;">                &lt;maxSize&gt;20971520&lt;/maxSize&gt;</span></code> <br/><code><span style="color: black;">            &lt;/defaultDataRegionConfiguration&gt;</span></code> <br/><code><span style="color: black;">            &lt;dataRegionConfigurations type="DataRegionConfiguration"&gt;</span></code> <br/><code><span style="color: black;">                    &lt;dataRegionConfiguration&gt;</span></code> <br/><code><span style="color: black;">                        &lt;name&gt;Persistent&lt;/name&gt;</span></code> <br/><code><span style="color: black;">                        &lt;persistenceEnabled&gt;true&lt;/persistenceEnabled&gt;</span></code> <br/><code><span style="color: black;">                        &lt;initialSize&gt;10485760&lt;/initialSize&gt;</span></code> <br/><code><span style="color: black;">                        &lt;maxSize&gt;1147483648&lt;/maxSize&gt;</span></code> <br/><code><span style="color: black;">                        &lt;pageEvictionMode&gt;RandomLru&lt;/pageEvictionMode&gt;</span></code> <br/><code><span style="color: black;">                    &lt;/dataRegionConfiguration&gt;</span></code> <br/><code><span style="color: black;">                    &lt;dataRegionConfiguration&gt;</span></code> <br/><code><span style="color: black;">                        &lt;name&gt;InMemory&lt;/name&gt;</span></code> <br/><code><span style="color: black;">                        &lt;persistenceEnabled&gt;false&lt;/persistenceEnabled&gt;</span></code> <br/><code><span style="color: black;">                        &lt;initialSize&gt;10485760&lt;/initialSize&gt;</span></code> <br/><code><span style="color: black;">                        &lt;maxSize&gt;50485760&lt;/maxSize&gt;</span></code> <br/><code><span style="color: black;">                    &lt;/dataRegionConfiguration&gt;</span></code> <br/><code><span style="color: black;">            &lt;/dataRegionConfigurations&gt;</span></code> <br/><code><span style="color: black;">        &lt;/dataStorageConfiguration&gt;</span></code> <br/><code><span style="color: black;">        &lt;clientMode&gt;false&lt;/clientMode&gt;</span></code> <br/><br/><code><span style="color: black;">        &lt;includedEventTypes&gt;&lt;/includedEventTypes&gt;</span></code> <br/><br/><code><span style="color: black;">        &lt;workDirectory&gt;C:\apache-ignite-2.16.0-bin\&lt;/workDirectory&gt;</span></code> <br/><br/><code><span style="color: black;">        &lt;jvmDllPath&gt;&lt;/jvmDllPath&gt;</span></code> <br/><br/><code><span style="color: black;">        &lt;igniteInstanceName&gt;Comindware_Instance2&lt;/igniteInstanceName&gt;</span></code> <br/><br/><code><span style="color: black;">        &lt;autoGenerateIgniteInstanceName&gt;false&lt;/autoGenerateIgniteInstanceName&gt;</span></code> <br/><br/><code><span style="color: black;">&lt;/igniteConfiguration&gt;</span></code> <br/><code><span style="color: black;">&lt;/configuration&gt;</span></code></pre>
</div>
<div class="table-responsive">
<p><a class="md-top md-icon mkdocs_imported_link" href="#"><em class="fa-light fa-arrow-up">‌</em> К началу </a></p>
</div>